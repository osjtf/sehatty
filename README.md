# Sehatty Leave Management

هذه لوحة تحكم مبسطة لإدارة الإجازات المرضية والأطباء والمرضى مع إحصائيات رسومية.

## التشغيل المحلي

1. تأكد من توفر PHP 8 وقاعدة بيانات MySQL.
2. أنشئ قاعدة البيانات والجداول تلقائيا عند فتح `admin.php` لأول مرة.
3. شغّل الخادم المحلي بواسطة
   ```bash
   php -S localhost:8000
   ```
   ثم افتح `http://localhost:8000/login.php`.

## الأمان

- يتم استخدام رموز CSRF مع ملفات تعريف SameSite=Strict.
- يتم تنظيف مدخلات المستخدم عبر دالة `clean()` لمنع هجمات XSS.
- جميع الاستعلامات تستخدم أوامر محضرة لتفادي الحقن.
- تعتمد الرسوم البيانية على مكتبة Chart.js المحمّلة من CDN.
- يتيح النظام إضافة ملاحظات للأطباء والبحث عنها في مختلف الجداول.
- عند تأكيد المدفوعات من الإشعارات يظهر المبلغ السابق لإقراره أو تعديله.

## الهيكل

- `admin.php` : لوحة التحكم الأساسية وجميع العمليات.
- `login.php` : صفحة تسجيل الدخول للمشرف.
- `logout.php` : لتسجيل الخروج بأمان.

